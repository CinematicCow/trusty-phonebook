(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(52)},50:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),r=n.n(c),u=n(8),l=n(5),m=n(3),i=n.n(m),b=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_SERVER_PORT:"5000"}).REACT_APP_SERVER_HOST?Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_SERVER_PORT:"5000"}).REACT_APP_SERVER_HOST:"localhost",E="http://".concat(b,":").concat("5000");function d(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),m=Object(l.a)(r,2),b=m[0],d=m[1],f=Object(a.useState)({name:"",number:""}),p=Object(l.a)(f,2),h=p[0],s=p[1];console.count("Rendering App component"),Object(a.useEffect)(function(){i.a.get("".concat(E,"/book")).then(function(e){d(e.data.phonebook)})},[]),console.log(b);var k=function(e){var t=e.entry,n=function(){return o.a.createElement("button",{onClick:function(e){window.confirm("Do you really want to delete "+t.name+" from phonebook?")&&i.a.delete("".concat(E,"/book/").concat(t.id)).then(function(e){204===e.status&&(console.log("".concat(t.name," deleted from Phonebook")),d(b.filter(function(e){return e.id!==t.id})))})}},"Delete Entry")};return o.a.createElement("li",{key:t.id},"Name : ",t.name,o.a.createElement("br",null),"Number : ",t.number," ",o.a.createElement(n,null))};return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook#69"),o.a.createElement("label",{htmlFor:"searchName"},"Search phonebook:",o.a.createElement("input",{id:"searchName",type:"text",value:n,onChange:function(e){var t=e.target.value;c(t)}})),o.a.createElement("ul",null,""===n?b.map(function(e){return o.a.createElement(k,{key:e.id,entry:e})}):b.filter(function(e){return e.name.toLowerCase().startsWith(n.toLowerCase())}).map(function(e){return o.a.createElement(k,{key:e.id,entry:e})})),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=-1;b.find(function(e){return e.name===h.name&&(t=e.id,!0)})&&window.confirm("".concat(h.name," already exists in Phonebook, do you want to update their number?"))&&-1!==t&&i.a.put("".concat(E,"/book/").concat(t),h).then(function(e){return console.log("".concat(t," updated to "),h)});i.a.post("".concat(E,"/book"),h).then(function(e){i.a.get("".concat(E,"/book")).then(function(e){d(e.data.phonebook)})})}},o.a.createElement("label",{htmlFor:"name "},"Name:",o.a.createElement("input",{id:"name",name:"fullname",type:"text",required:!0,value:h.name,onChange:function(e){s(Object(u.a)({},h,{name:e.target.value}))}})),o.a.createElement("br",null),o.a.createElement("label",{htmlFor:"number"},"Number:"," ",o.a.createElement("input",{id:"number",name:"number",type:"text",required:!0,value:h.number,onChange:function(e){s(Object(u.a)({},h,{number:e.target.value}))}})),o.a.createElement("br",null),o.a.createElement("button",{type:"submit"},"Save")))}n(50);r.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d,null)))}},[[20,2,1]]]);
//# sourceMappingURL=main.dc35c614.chunk.js.map